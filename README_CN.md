<h1 align = "center">视频网格缩略图生成器</h1>

<p align = "center">
    <a href = "README.md" target = "_blank">EN</a> | <a href = "README_CN.md" target = "_blank">CN</a>
</p>

## 废话

在很长一段时间里，我都在寻找具有给视频创建网格缩略图功能的免费播放器。在 Windows 上，PotPlayer 内置了这个功能，并且做得非常好。但是在 macOS 上，很遗憾，像 VLC 和 IINA 这两款非常出色的 app 都没有这个功能。因此我甚至还一度有了自己开发一款播放器的念头，无奈我既不会 Swift ，也不掌握音视频开发的技能。

直到昨天晚上我的脑子被门夹了，我才突然意识到：

> 其实我根本不需要特地去开发一个播放器，如果我只是需要从视频中截几张图然后拼接在一起的话，那我就单独开发这个功能不就行了吗……

于是便有了这个低技术力屑作 -_-

## 特性

- [x] 自定义截图的数量，例如 3×3 或者 4×4 ；
- [x] 自定义最终图片的宽度（高度将自动按比例调整），设置为`0`则保持原大小；
- [x] 自定义截图之间的距离；
- [x] 自定义截图的圆角，设置为`0`则不应用圆角风格；
- [x] 网格中的每张截图都会标注其在视频中对应的时间；
- [x] 支持`mp4`、`mkv`等常见视频格式；
- [x] 简约但是足够使用的图形界面；

## 开发

开发与编译环境：

- Python 3.13.1
- PyCharm 2024.3.1.1 (Community Edition)
- Xcode
- Flutter + Ruby + CocoaPods

依赖库：

```shell
pip3 install opencv-python pillow flet
```

项目结构：

- `src/main.py`：图形界面布局和交互逻辑；
- `src/video_thumbnail_grid_maker.py`：构建缩略图的核心逻辑；

## 使用

在项目中运行`src/main.py`，在图形界面上根据需求调整参数：

1. **点击按钮选择影片文件以读取其路径，我想你明白这是必须要执行的操作；**
2. 最终生成的网格缩略图的保存路径，默认保存至影片所在目录下。你也可以通过点击按钮来选择你希望保存的位置。**注意：路径最后需要包含文件名**；
3. 最终生成的网格缩略图的行数，默认为 4 行；
4. 最终生成的网格缩略图的列数，默认为 4 列；
5. 最终生成的网格缩略图的宽度，默认为 1920 像素，你可以手动调整宽度，高度会按比例自动调整；
6. 截图之间的距离，默认为 30 ；
7. 截图的圆角程度，默认为 30 ；

最后点击右下角的 Floating Action Button 就可以生成图片了！

## 效果预览

| 程序图形界面展示（macOS）  |
|:----------------:|
| ![](UI_demo.png) |  

|     最终生成的网格缩略图展示     |
|:--------------------:|
| ![](output_demo.jpg) |
|    截图来自《我的女友是妖怪》     |  

## 后续计划

- [ ] 打包为可执行文件，使其可以在 Windows 和 macOS 上直接运行。目前已将 GUI 的实现方案由 tkinter 替换为了 Flet ，但是由于最新版的 Flet 和最新版的 Flutter 不兼容，同时旧版的 Flutter 又存在需要 Rosetta 转译的文件，并且我排斥在我的 Mac 安装 Rosetta ，故而现在只能等待 Flet 进行适配；
- [ ] 为 GUI 添加多语言支持；
- [ ] 如果视频有内嵌字幕，则截图时可选择是否包含字幕；
